import Alert from '@mui/material/Alert';
import { CodeEdit, InfoPage } from '../../components/index.jsx';

<InfoPage>
	[https://uk.javascript.info](https://uk.javascript.info/constructor-new#stvorennya-metodiv-u-konstruktori)
</InfoPage>

# Конструктори, оператор "new"

Звичайний синтаксис ```{...}``` дозволяє створити тільки один об’єкт. Проте часто нам потрібно створити багато однотипних об’єктів, таких як, наприклад, користувачі чи елементи меню тощо.

Це можна зробити за допомогою функції-конструктора та оператора ```"new"```.

## Функція-конструктор

Технічно, функції-конструктори – це звичайні функції. Однак є дві загальні домовленості:

1. Ім’я функції-конструктора повинно починатися з великої літери.
1. Функції-конструктори повинні виконуватися лише з оператором "new".

Наприклад:

<CodeEdit text={`
function User(name) {
  this.name = name;
  this.isAdmin = false;
}

let user = new User("Джек");

alert(user.name); // Джек
alert(user.isAdmin); // false
`}/>
Коли функція виконується з ```new```, відбуваються наступні кроки:

1. Створюється новий порожній об’єкт, якому присвоюється ```this```.
1. Виконується тіло функції. Зазвичай воно модифікує ```this```, додає до нього нові властивості.
1. Повертається значення ```this```.

Інакше кажучи, виклик ```new User(...)``` робить щось на зразок:

<CodeEdit text={`
function User(name) {
  // this = {};  (неявно)

  // додає властивості до this
  this.name = name;
  this.isAdmin = false;

  // return this;  (неявно)
}
`}/>

Отже ```let user = new User("Джек")``` дає той самий результат, що:

<CodeEdit text={`
let user = {
  name: "Джек",
  isAdmin: false
};
`}/>

## Створення методів у конструкторі
Використання конструкторів для створення об’єктів дає велику гнучкість. Конструктор може мати параметри, які визначають, як побудувати об’єкт і що в нього помістити.

Звичайно, ми можемо додати до ```this``` не лише властивості, але й методи.

У наведеному нижче прикладі, ```new User(name)``` створює об’єкт із заданим ```name``` та методом ```sayHi```:

<CodeEdit text={`
function User(name) {
  this.name = name;

  this.sayHi = function() {
    alert( "Моє ім’я: " + this.name );
  };
}

let john = new User("Джон");

john.sayHi(); // Моє ім’я: Джон

/*
john = {
   name: "Джон",
   sayHi: function() { ... }
}
*/
`}/>

Для створення складних об’єктів існує більш просунутий синтаксис, ```класи```, про який ми поговоримо пізніше.